<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sunny Sugar Artï½œShop</title>
  <style>
    :root{ --bg:#fff7f0; --ink:#1f2328; --muted:#6b7280; --card:#fff; --line:#eee; --accent:#f59e0b; --shadow:0 10px 30px rgba(10,10,20,.07); --radius:18px; }
    *{box-sizing:border-box}
    body{margin:0;font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--ink)}
    .wrap{max-width:1200px;margin:auto;padding:28px}
    h1{font-size:1.6rem;margin:0 0 18px}

    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:28px}
    @media (max-width:1000px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:640px){.grid{grid-template-columns:1fr}}

    .card{background:var(--card);border:1px solid var(--line);border-radius:20px;box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column}
    .thumb{aspect-ratio:4/3;object-fit:cover;width:100%;display:block}
    .content{padding:16px}
    .content h3{margin:0 0 6px 0;display:flex;align-items:center;gap:8px}
    .desc{color:var(--muted);margin:0 0 12px}
    .btn{align-self:flex-start;background:var(--accent);color:#111827;border:0;border-radius:999px;padding:10px 16px;font-weight:800;text-decoration:none;display:inline-block}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Shop</h1>
    <div class="grid" id="grid"></div>
  </div>

  <script>
    // â˜… æŠŠé€™è£¡çš„åœ–ç‰‡è·¯å¾‘æ›æˆä½ çš„å¯¦éš›æª”å/ç¶²å€
    const PRODUCTS=[
      {slug:'halloween', title:'ğŸƒ Halloween Cookies', desc:'Moody, stylish designs for October events.', images:['/images/halloween-1.jpg','/images/halloween-2.jpg','/images/halloween-3.jpg']},
      {slug:'christmas', title:'ğŸ„ Christmas Gift Box', desc:'Elegant gifting options in luxe packaging.', images:['/images/xmas-1.jpg','/images/xmas-2.jpg']},
      {slug:'custom', title:'âœ¨ Custom Cookies', desc:'Personalised designs for weddings, brands.', images:['/images/custom-1.jpg','/images/custom-2.jpg']},
      {slug:'baby', title:'ğŸ¼ Baby Shower Cookies', desc:'Adorable favours to welcome little ones.', images:['/images/baby-1.jpg','/images/baby-2.jpg','/images/baby-3.jpg']},
      {slug:'meringue', title:'ğŸ­ Custom Meringue Kisses', desc:'Light, airy and colour-matched.', images:['/images/meringue-1.jpg','/images/meringue-2.jpg']},
      {slug:'cakes', title:'ğŸ‚ Decorated Cakes', desc:'Artistic royal icing details.', images:['/images/cake-1.jpg','/images/cake-2.jpg']}
    ];

    const grid=document.getElementById('grid');
    PRODUCTS.forEach(p=>{
      const el=document.createElement('article'); el.className='card';
      el.innerHTML=`
        <img class="thumb" src="${p.images[0]}" alt="${p.title}">
        <div class="content">
          <h3>${p.title}</h3>
          <p class="desc">${p.desc}</p>
          <a class="btn" href="product.html#slug=${p.slug}">Order</a>
        </div>`;
      el.dataset.images = JSON.stringify(p.images);
      grid.appendChild(el);
    });

    // è‡ªå‹•è¼ªæ’­ï¼šå¡ç‰‡é€²å…¥ viewport æ‰é–‹å§‹ï¼Œé›¢é–‹å°±åœæ­¢
    const timers=new WeakMap();
    function start(el){
      if(timers.get(el)) return;
      const imgs=JSON.parse(el.dataset.images||'[]'); if(imgs.length<2) return;
      const img=el.querySelector('.thumb'); let i=0;
      const id=setInterval(()=>{ i=(i+1)%imgs.length; img.src=imgs[i]; }, 2500);
      timers.set(el,id);
    }
    function stop(el){ const id=timers.get(el); if(id){ clearInterval(id); timers.delete(el); }}

    const io=new IntersectionObserver((entries)=>{
      entries.forEach(ent=> ent.isIntersecting ? start(ent.target) : stop(ent.target));
    },{root:null,threshold:.6});

    document.querySelectorAll('.card').forEach(c=>io.observe(c));
  </script>
</body>
</html>

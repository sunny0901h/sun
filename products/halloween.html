<!DOCTYPE html>
<div class="nav"><button id="prev" aria-label="Previous">â€¹</button><button id="next" aria-label="Next">â€º</button></div>
</div>
<div class="dots" id="dots"></div>
<div class="notes">
<strong>Important:</strong> Made to order. Please book <strong>4 weeks in advance</strong> for October peak. Contains egg & gluten. Nutâ€‘free kitchen but traces may exist.
</div>
</section>


<!-- Right: Order Panel -->
<aside class="panel">
<h1>ðŸŽƒ Halloween Cookies</h1>
<div class="price" id="priceDisplay">AUDÂ â€”</div>
<label for="size">Size</label>
<select id="size">
<option value="6 pcs">6 pcs</option>
<option value="8 pcs">8 pcs</option>
<option value="12 pcs">12 pcs</option>
</select>
<label for="theme">Theme</label>
<select id="theme">
<option>Elegant spooky</option>
<option>Bats & moons</option>
<option>Gothic lace</option>
<option>Custom</option>
</select>
<label>Colours</label>
<div class="chips" id="colors">
<button class="chip" data-val="Black">Black</button>
<button class="chip" data-val="Charcoal">Charcoal</button>
<button class="chip" data-val="Champagne gold">Champagne gold</button>
<button class="chip" data-val="Ivory">Ivory</button>
<button class="chip" data-val="Copper">Copper</button>
</div>
<label for="notes">Notes (allergies, packaging messageâ€¦)</label>
<textarea id="notes" rows="4"></textarea>
<div class="actions">
<a class="btn" id="checkout" href="#">Proceed to Checkout</a>
<button class="btn secondary" id="emailBtn" type="button">Email Order</button>
</div>
</aside>
</div>
</main>
<script>
// ===== Pricing (AUD) =====
const PRICES = {"6 pcs": 45, "8 pcs": 58, "12 pcs": 85};
const product = "Halloween Cookies";


// Price bind
const priceDisplay = document.getElementById('priceDisplay');
const sizeSel = document.getElementById('size');
function updatePrice(){ const p = PRICES[sizeSel.value]; priceDisplay.textContent = `AUD $${p}`; }
sizeSel.addEventListener('change', updatePrice); updatePrice();


// Color chips multi-select
const selected = new Set();
document.querySelectorAll('#colors .chip').forEach(ch=>{
ch.addEventListener('click', e=>{ e.preventDefault(); ch.classList.toggle('active'); const v=ch.dataset.val; ch.classList.contains('active')?selected.add(v):selected.delete(v);});
});


// Build checkout URL to Google Form (replace with your real form URL & entry IDs)
const FORM_URL = 'https://docs.google.com/forms/d/e/your-form-id/viewform';
function prefill(){
const theme = document.getElementById('theme').value;
const colors = Array.from(selected).join(', ');
const notes = document.getElementById('notes').value.trim();
// Example prefill params â€” replace entry.XXXX with your field IDs
const params = new URLSearchParams({
'entry.size':'', // e.g. entry.111111
'entry.theme':'',
'entry.colors':'',
'entry.product': product,
'entry.price': `AUD $${PRICES[sizeSel.value]}`,
'entry.notes': notes
});
// If you donâ€™t know entry IDs yet, just open the form URL.
return FORM_URL + (FORM_URL.includes('?')?'&':'?') + params.toString();
}
document.getElementById('checkout').addEventListener('click', (e)=>{
e.preventDefault(); window.open(prefill(), '_blank');
});


// Email fallback
document.getElementById('emailBtn').addEventListener('click',()=>{
const colors = Array.from(selected).join(', ');
const body = encodeURIComponent(`Product: ${product}\nSize: ${sizeSel.value}\nTheme: ${document.getElementById('theme').value}\nColours: ${colors}\nPrice: AUD $${PRICES[sizeSel.value]}\nNotes: ${document.getElementById('notes').value}`);
window.location.href = `mailto:sunnysugarart@gmail.com?subject=Order â€“ ${encodeURIComponent(product)}&body=${body}`;
});


// ===== Carousel with autoplay & drag =====
const track = document.getElementById('track');
const slides = ()=>Array.from(track.querySelectorAll('.slide'));
const dotsWrap = document.getElementById('dots');
let index=0, timer;
function buildDots(){ dotsWrap.innerHTML=''; slides().forEach((_,i)=>{const b=document.createElement('button'); if(i===0)b.classList.add('active'); b.addEventListener('click',()=>go(i)); dotsWrap.appendChild(b)}); }
function go(i){ index=(i+slides().length)%slides().length; track.scrollTo({left:index*track.clientWidth,behavior:'smooth'}); dotsWrap.querySelectorAll('button').forEach((d,di)=>d.classList.toggle('active',di===index)); }
function next(){ go(index+1) }
function prev(){ go(index-1) }
document.getElementById('next').onclick=next; document.getElementById('prev').onclick=prev;
function start(){ timer=setInterval(next, 4000) } function stop(){ clearInterval(timer) }
document.getElementById('carousel').addEventListener('mouseenter',stop); document.getElementById('carousel').addEventListener('mouseleave',start);
// drag/swipe
let startX=0, sx=0, dragging=false;
track.addEventListener('pointerdown',e=>{dragging=true; sx=e.clientX; startX=track.scrollLeft; track.setPointerCapture(e.pointerId); stop();});
track.addEventListener('pointermove',e=>{ if(!dragging) return; track.scrollLeft = startX - (e.clientX - sx); });
track.addEventListener('pointerup',e=>{ dragging=false; const w=track.clientWidth; index=Math.round(track.scrollLeft/w); go(index); start();});
window.addEventListener('resize',()=>go(index));
buildDots(); start();
</script>
</body>
</html>
